<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" href="{{ url_for('static', path='/favicon.ico') }}" type="image/x-icon" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <title>Item Details</title>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
</head>

<body class="p-3 m-0 border-0">
    <h2>Microservice Monitoring Dashboard</h2>
    <div class="row">
        <div class="col">
            <div class="card" style="width: 18rem;">
                <div class="card-body">
                    <h5 class="card-title">Start</h5>
                    <h6 class="card-subtitle mb-2 text-muted">Start sending signals to microservice chain</h6>
                    <button class="btn btn-lg btn-primary" onclick="startRequests(this);">Start</button>
                    <p class="card-text">Adjust the slider to change requests per minute.</p>
                    <label for="rateRange" class="form-label">Request rate for A: </label>
                    <input type="range" class="form-range" min="1" max="50" step="1" id="rateRange" value="1">
                </div>
            </div>
        </div>
        <div class="col">
            <div class="card" style="width: 18rem;">
                <div class="card-body">
                    <h5 class="card-title">A</h5>
                    <h6 class="card-subtitle mb-2 text-muted">Microservice A</h6>
                    <p class="card-text" id="metricsTextA">Rate: nil <br>Process Time: nil</p>
                    <div class="form-check form-check-inline form-switch">
                        <input class="form-check-input" type="checkbox" role="switch" id="activeSwitchA" oninput="activeToggle(this, 3001);" checked>
                        <label class="form-check-label" for="activeSwitchA">Active</label>
                    </div>
                    <div class="form-check form-check-inline form-switch">
                        <input class="form-check-input" type="checkbox" role="switch" id="raiseErrorSwitchA" onchange="errorToggle(this, 3001);">
                        <label class="form-check-label" for="raiseErrorSwitchA">Input Error</label>
                    </div>
                </div>
            </div>
        </div>
        <div class="col">
            <div class="card" style="width: 18rem;">
                <div class="card-body">
                    <h5 class="card-title">B</h5>
                    <h6 class="card-subtitle mb-2 text-muted">Microservice B</h6>
                    <p class="card-text" id="metricsTextB">Rate: nil <br>Process Time: nil</p>
                    <div class="form-check form-check-inline form-switch">
                        <input class="form-check-input" type="checkbox" role="switch" id="activeSwitchB" onchange="activeToggle(this, 3002);" checked>
                        <label class="form-check-label" for="activeSwitchB">Active</label>
                    </div>
                    <div class="form-check form-check-inline form-switch">
                        <input class="form-check-input" type="checkbox" role="switch" id="raiseErrorSwitchB" onchange="errorToggle(this, 3002);">
                        <label class="form-check-label" for="raiseErrorSwitchB">Input Error</label>
                    </div>
                </div>
            </div>
        </div>
        <div class="col">
            <div class="card" style="width: 18rem;">
                <div class="card-body">
                    <h5 class="card-title">C</h5>
                    <h6 class="card-subtitle mb-2 text-muted">Microservice C</h6>
                    <p class="card-text" id="metricsTextC">Rate: nil <br>Process Time: nil</p>
                    <div class="form-check form-check-inline form-switch">
                        <input class="form-check-input" type="checkbox" role="switch" id="activeSwitchC" onchange="activeToggle(this, 3003);" checked>
                        <label class="form-check-label" for="activeSwitchC">Active</label>
                    </div>
                    <div class="form-check form-check-inline form-switch">
                        <input class="form-check-input" type="checkbox" role="switch" id="raiseErrorSwitchC" onchange="errorToggle(this, 3003);">
                        <label class="form-check-label" for="raiseErrorSwitchC">Input Error</label>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="{{ url_for('static', path='/index.js') }}"></script>
</body>

</html>